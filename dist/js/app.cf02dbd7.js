(function(e){function t(t){for(var o,l,n=t[0],s=t[1],d=t[2],f=0,h=[];f<n.length;f++)l=n[f],Object.prototype.hasOwnProperty.call(i,l)&&i[l]&&h.push(i[l][0]),i[l]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);c&&c(t);while(h.length)h.shift()();return a.push.apply(a,d||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],o=!0,n=1;n<r.length;n++){var s=r[n];0!==i[s]&&(o=!1)}o&&(a.splice(t--,1),e=l(l.s=r[0]))}return e}var o={},i={app:0},a=[];function l(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.m=e,l.c=o,l.d=function(e,t,r){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(l.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)l.d(r,o,function(t){return e[t]}.bind(null,o));return r},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/vue-x6/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],s=n.push.bind(n);n.push=t,n=n.slice();for(var d=0;d<n.length;d++)t(n[d]);var c=s;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";r("1fb7")},"18e5":function(e,t,r){},"1fb7":function(e,t,r){},4436:function(e,t,r){},4585:function(e,t,r){"use strict";r("18e5")},"4a93":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("d93d"),r("02e5"),r("6870"),r("18e9");var o=r("2c3f"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},a=[],l=(r("034f"),r("4ac2")),n={},s=Object(l["a"])(n,i,a,!1,null,null,null),d=s.exports,c=r("8aaf"),f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"home"},[r("HelloWorld",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},h=[],g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"main"},[r("div",{staticClass:"operating",staticStyle:{display:"flex",height:"100%",width:"100%"}},[r("div",{staticClass:"top_tool"},[r("div",{staticClass:"btn-group"},[r("div",{staticClass:"btn",attrs:{title:"正方形节点"},on:{mousedown:function(t){return e.startDrag("Rect",t)}}},[r("i",{staticClass:"iconfont icon-changfangxing"})]),e.showTips?r("div",{staticClass:"btn-group_tips"},[e._v(" 拖拽生成 "),r("br"),e._v(" 资产拓扑图形 ")]):e._e()]),r("div",{staticClass:"btn-group"},[r("el-tooltip",{attrs:{content:"删除",placement:"bottom"}},[r("div",{staticClass:"btn",on:{click:function(t){return e.deleteNode()}}},[r("i",{staticClass:"iconfont icon-shanchu"})])]),r("el-tooltip",{attrs:{content:"保存PNG",placement:"bottom"}},[r("div",{staticClass:"btn",attrs:{title:"保存"},on:{click:function(t){return e.saveToPNG()}}},[r("i",{staticClass:"iconfont icon-baocun"})])])],1)]),r("div",{staticStyle:{flex:"1",width:"100%"},attrs:{id:"container"}})]),r("RightDrawer",{staticClass:"right_drawer",attrs:{drawerType:e.type,selectCell:e.selectCell,graph:e.graph,grid:e.grid},on:{deleteNode:e.deleteNode}})],1)},p=[],u=(r("ff27"),r("3ee2")),m=function(e,t,r){var o="Rect"===t?e.createNode({width:100,height:60,attrs:{label:{text:"正方形节点",fill:"#000000",fontSize:14,textWrap:{width:-10,height:-10,ellipsis:!0}},body:{stroke:"#000000",strokeWidth:1,fill:"#ffffff"}},ports:b}):"Circle"===t?e.createNode({shape:"ellipse",width:100,height:100,attrs:{label:{text:"圆形节点",fill:"#000000",fontSize:14,textWrap:{width:-20,height:-10,ellipsis:!0}},body:{stroke:"#000000",strokeWidth:1,fill:"#ffffff"}},ports:b}):e.createNode({shape:"polygon",x:40,y:40,width:120,height:120,attrs:{label:{text:"条件节点",fill:"#000000",fontSize:14,textWrap:{width:-50,height:"70%",ellipsis:!0}},body:{fill:"#ffffff",stroke:"#000000",refPoints:"0,10 10,0 20,10 10,20",strokeWidth:1}},ports:b}),i=new u["a"].Dnd({target:e});i.start(o,r)},b={groups:{top:{position:"top",attrs:{circle:{r:4,magnet:!0,stroke:"#2D8CF0",strokeWidth:2,fill:"#fff"}}},bottom:{position:"bottom",attrs:{circle:{r:4,magnet:!0,stroke:"#2D8CF0",strokeWidth:2,fill:"#fff"}}},left:{position:"left",attrs:{circle:{r:4,magnet:!0,stroke:"#2D8CF0",strokeWidth:2,fill:"#fff"}}},right:{position:"right",attrs:{circle:{r:4,magnet:!0,stroke:"#2D8CF0",strokeWidth:2,fill:"#fff"}}}},items:[{id:"port1",group:"top"},{id:"port2",group:"bottom"},{id:"port3",group:"left"},{id:"port4",group:"right"}]},w=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"drawer_container"},["grid"===e.drawerType?r("div",[r("div",{staticClass:"drawer_title"},[e._v("画布背景设置")]),r("div",{staticClass:"drawer_wrap"},[r("el-form",{attrs:{"label-position":"left","label-width":"80px"}},[r("el-form-item",{attrs:{label:"是否显示网格","label-width":"100px"}},[r("el-switch",{on:{change:e.changeGrid},model:{value:e.showGrid,callback:function(t){e.showGrid=t},expression:"showGrid"}})],1),r("div",{directives:[{name:"show",rawName:"v-show",value:e.showGrid,expression:"showGrid"}]},[r("el-form-item",{attrs:{label:"网格类型"}},[r("el-radio-group",{on:{change:e.changeGridType},model:{value:e.grid.type,callback:function(t){e.$set(e.grid,"type",t)},expression:"grid.type"}},e._l(e.gridTypeList,(function(t){return r("el-radio",{key:t.value,attrs:{label:t.value}},[r("span",[e._v(e._s(t.label))])])})),1)],1),r("el-form-item",{attrs:{label:"网格大小"}},[r("el-slider",{attrs:{min:0,max:30},on:{change:e.changeGrid},model:{value:e.grid.size,callback:function(t){e.$set(e.grid,"size",t)},expression:"grid.size"}})],1),r("el-form-item",{attrs:{label:"网格颜色"}},[r("el-color-picker",{on:{change:e.changeGrid},model:{value:e.grid.args.color,callback:function(t){e.$set(e.grid.args,"color",t)},expression:"grid.args.color"}})],1),r("el-form-item",{attrs:{label:"网格线宽度","label-width":"100px"}},[r("el-slider",{attrs:{min:0,max:20},on:{change:e.changeGrid},model:{value:e.grid.args.thickness,callback:function(t){e.$set(e.grid.args,"thickness",t)},expression:"grid.args.thickness"}})],1)],1)],1)],1)]):e._e(),"node"===e.drawerType?r("div",[r("div",{staticClass:"drawer_title"},[e._v("节点设置")]),r("div",{staticClass:"drawer_wrap"},[r("el-form",{attrs:{"label-position":"left","label-width":"100px"}},[r("el-form-item",{attrs:{label:"节点文本"}},[r("el-input",{on:{change:e.changeNodeText},model:{value:e.drawerNode.nodeText,callback:function(t){e.$set(e.drawerNode,"nodeText",t)},expression:"drawerNode.nodeText"}})],1),r("el-form-item",{attrs:{label:"节点背景"}},[r("el-color-picker",{on:{change:e.changeFill},model:{value:e.drawerNode.fill,callback:function(t){e.$set(e.drawerNode,"fill",t)},expression:"drawerNode.fill"}})],1),r("el-form-item",{attrs:{label:"字体大小"}},[r("el-slider",{attrs:{min:10,max:20},on:{change:e.changefontSize},model:{value:e.drawerNode.fontSize,callback:function(t){e.$set(e.drawerNode,"fontSize",t)},expression:"drawerNode.fontSize"}})],1),r("el-form-item",{attrs:{label:"字体颜色"}},[r("el-color-picker",{on:{change:e.changeFontFill},model:{value:e.drawerNode.fontFill,callback:function(t){e.$set(e.drawerNode,"fontFill",t)},expression:"drawerNode.fontFill"}})],1),r("el-form-item",{attrs:{label:"边框宽度"}},[r("el-slider",{attrs:{min:0,max:10},on:{change:e.changeStrokeWidth},model:{value:e.drawerNode.strokeWidth,callback:function(t){e.$set(e.drawerNode,"strokeWidth",t)},expression:"drawerNode.strokeWidth"}})],1),r("el-form-item",{attrs:{label:"边框颜色"}},[r("el-color-picker",{on:{change:e.changeStroke},model:{value:e.drawerNode.stroke,callback:function(t){e.$set(e.drawerNode,"stroke",t)},expression:"drawerNode.stroke"}})],1),r("el-form-item",{attrs:{label:"功能"}},[r("el-button",{attrs:{type:"primary",icon:"md-trending-up"},on:{click:e.toTopZIndex}},[e._v("置顶")]),r("el-button",{staticClass:"margin-left-10",attrs:{type:"error",icon:"md-trash"},on:{click:e.deleteNode}},[e._v("删除")])],1)],1)],1)]):e._e(),"edge"===e.drawerType?r("div",[r("div",{staticClass:"drawer_title"},[e._v("线条设置")]),r("div",{staticClass:"drawer_wrap"},[r("el-form",{attrs:{"label-position":"left","label-width":"100px"}},[r("el-form-item",{attrs:{label:"线条文本"}},[r("el-input",{on:{change:e.changeEdgeText},model:{value:e.drawerEdge.EdgeText,callback:function(t){e.$set(e.drawerEdge,"EdgeText",t)},expression:"drawerEdge.EdgeText"}})],1),r("el-form-item",{attrs:{label:"线条宽度"}},[r("el-slider",{attrs:{min:1,max:10},on:{change:e.changeEdgeWidth},model:{value:e.drawerEdge.edgeWidth,callback:function(t){e.$set(e.drawerEdge,"edgeWidth",t)},expression:"drawerEdge.edgeWidth"}})],1),r("el-form-item",{attrs:{label:"线条颜色"}},[r("el-color-picker",{on:{change:e.changeEdgeColor},model:{value:e.drawerEdge.edgeColor,callback:function(t){e.$set(e.drawerEdge,"edgeColor",t)},expression:"drawerEdge.edgeColor"}})],1),r("el-form-item",{attrs:{label:"功能"}},[r("el-button",{attrs:{type:"primary",icon:"md-trending-up"},on:{click:e.toTopZIndex}},[e._v("置顶")]),r("el-button",{staticClass:"margin-left-10",attrs:{type:"error",icon:"md-trash"},on:{click:e.deleteNode}},[e._v("删除")])],1)],1)],1)]):e._e()])},k=[],x=r("efe2"),v=(r("aafd"),r("59c4"),{name:"RightDrawer",data:function(){return{gridTypeList:[{label:"四边网格",value:"mesh"},{label:"点状网格",value:"dot"}],showGrid:!0,drawerNode:{fill:"",nodeText:"",fontSize:null,fontFill:"",strokeWidth:null,stroke:""},drawerEdge:{EdgeText:"",edgeWidth:null,edgeColor:""}}},props:{drawerType:{type:String},selectCell:{},graph:{},grid:{type:Object}},created:function(){},mounted:function(){},watch:{selectCell:{handler:function(e){console.log(e),e&&(e.isNode()?(this.drawerNode.fill=e.store.data.attrs.body.fill,this.drawerNode.nodeText=e.store.data.attrs.label.text,this.drawerNode.fontFill=e.store.data.attrs.label.fill,this.drawerNode.fontSize=Number(e.store.data.attrs.label.fontSize),this.drawerNode.strokeWidth=Number(e.store.data.attrs.body.strokeWidth),this.drawerNode.stroke=e.store.data.attrs.body.stroke):(this.drawerEdge.EdgeText=e.store.data.labels?e.store.data.labels[0].text:"",this.drawerEdge.edgeWidth=Number(e.store.data.attrs.line.strokeWidth),this.drawerEdge.edgeColor=e.store.data.attrs.line.stroke))},deep:!1}},methods:{changeGrid:function(){this.graph.drawGrid(Object(x["a"])({},this.grid)),this.showGrid?this.graph.showGrid():this.graph.hideGrid()},changeGridType:function(e){this.grid.type=e,this.changeGrid()},changeStrokeWidth:function(e){this.selectCell.attr("body/strokeWidth",e)},changefontSize:function(e){this.selectCell.attr("label/fontSize",e)},changeNodeText:function(){console.log(this.selectCell.attr),this.selectCell.attr("label/text",this.drawerNode.nodeText)},changeStroke:function(e){this.drawerNode.stroke=e,this.selectCell.attr("body/stroke",this.drawerNode.stroke)},changeFontFill:function(e){this.drawerNode.fontFill=e,this.selectCell.attr("label/fill",this.drawerNode.fontFill)},changeFill:function(e){this.drawerNode.fill=e,this.selectCell.attr("body/fill",e)},changeEdgeText:function(){console.log(this.drawerEdge.EdgeText),this.selectCell.setLabels([{attrs:{label:{text:this.drawerEdge.EdgeText}}}])},changeEdgeWidth:function(e){this.drawerEdge.edgeWidth=e,this.selectCell.attr("line/strokeWidth",this.drawerEdge.edgeWidth)},changeEdgeColor:function(e){this.drawerEdge.stroke=e,this.selectCell.attr("line/stroke",this.drawerEdge.stroke)},toTopZIndex:function(){this.selectCell.toFront()},deleteNode:function(){this.$emit("deleteNode")}}}),y=v,N=(r("e960"),Object(l["a"])(y,w,k,!1,null,"48cf1322",null)),C=N.exports,E={group1:{attrs:{circle:{r:6,magnet:!0,stroke:"#31d0c6",strokeWidth:2,fill:"#fff"}},markup:{tagName:"circle",selector:"circle",attrs:{r:10,fill:"#fff",stroke:"#000"}},zIndex:1,position:{name:"top",args:{}},label:{markup:{tagName:"text",selector:"text",attrs:{fill:"#000"}}}},group2:{attrs:{circle:{r:6,magnet:!0,stroke:"#31d0c6",strokeWidth:2,fill:"#fff"}},markup:{tagName:"circle",selector:"circle",attrs:{r:10,fill:"#fff",stroke:"#000"}},zIndex:1,position:{name:"right",args:{}},label:{markup:{tagName:"text",selector:"text",attrs:{fill:"#000"}}}},group3:{attrs:{circle:{r:6,magnet:!0,stroke:"#31d0c6",strokeWidth:2,fill:"#fff"}},markup:{tagName:"circle",selector:"circle",attrs:{r:10,fill:"#fff",stroke:"#000"}},zIndex:1,position:{name:"bottom",args:{}},label:{markup:{tagName:"text",selector:"text",attrs:{fill:"#000"}}}},group4:{attrs:{circle:{r:6,magnet:!0,stroke:"#31d0c6",strokeWidth:2,fill:"#fff"}},markup:{tagName:"circle",selector:"circle",attrs:{r:10,fill:"#fff",stroke:"#000"}},zIndex:1,position:{name:"left",args:{}},label:{markup:{tagName:"text",selector:"text",attrs:{fill:"#000"}}}}},W={nodes:[{id:"node1",x:40,y:40,width:80,height:40,attrs:{label:{text:"正方形节点",fill:"#000000",fontSize:14,textWrap:{width:-10,height:-10,ellipsis:!0}},body:{stroke:"#000000",strokeWidth:1,fill:"#ffffff"}},ports:{groups:E,items:[{id:"port1",group:"group1"},{id:"port2",group:"group2"},{id:"port3",group:"group3"},{id:"port4",group:"group4"}]}},{id:"node2",x:160,y:180,width:80,height:40,attrs:{label:{text:"正方形节点",fill:"#000000",fontSize:14,textWrap:{width:-10,height:-10,ellipsis:!0}},body:{stroke:"#000000",strokeWidth:1,fill:"#ffffff"}},ports:{groups:E,items:[{id:"port1",group:"group1"},{id:"port2",group:"group2"},{id:"port3",group:"group3"},{id:"port4",group:"group4"}]}},{id:"node3",x:300,y:300,width:80,height:40,attrs:{label:{text:"正方形节点",fill:"#000000",fontSize:14,textWrap:{width:-10,height:-10,ellipsis:!0}},body:{stroke:"#000000",strokeWidth:1,fill:"#ffffff"}},ports:{groups:E,items:[{id:"port1",group:"group1"},{id:"port2",group:"group2"},{id:"port3",group:"group3"},{id:"port4",group:"group4"}]}}],edges:[]},T={name:"HelloWorld",props:{msg:String},components:{RightDrawer:C},data:function(){return{data:W,graph:null,currentArrow:1,showTips:!1,selectCell:null,grid:{size:20,visible:!0,type:"mesh",args:{color:"#D0D0D0",thickness:1,factor:10}},type:"",connectEdgeType:{connector:"normal",router:{name:""}}}},mounted:function(){var e=this,t=this;this.graph=new u["c"]({container:document.getElementById("container"),autoResize:!0,grid:t.grid,keyboard:{enabled:!0},resizing:{enabled:!0,orthogonal:!1},snapline:{enabled:!0,tolerance:10},connecting:{allowBlank:!1,allowMulti:!1,allowNode:!1,snap:!0,createEdge:function(){return new u["d"].Edge({attrs:{line:{stroke:"#1890ff",strokeWidth:1,targetMarker:{name:"classic",size:8},strokeDasharray:0,style:{animation:"ant-line 30s infinite linear"}}},label:{text:""},connector:"normal",router:{name:"manhattan"},zIndex:0})}},selecting:{enabled:!0},scroller:{enabled:!0,pannable:!0,pageVisible:!0,pageBreak:!1},mousewheel:{enabled:!0,modifiers:["ctrl","meta"]}}),this.graph.fromJSON(this.data),this.graph.history.redo(),this.graph.history.undo(),this.graph.on("cell:mouseleave",(function(e){e.cell.removeTools()})),this.graph.on("blank:click",(function(){e.type="grid"})),this.graph.on("cell:click",(function(t){var r=t.cell;e.type=r.isNode()?"node":"edge"})),this.graph.on("selection:changed",(function(t){t.added.forEach((function(t){e.selectCell=t,t.isEdge()&&(t.isEdge()&&t.attr("line/strokeDasharray",5),t.addTools([{name:"vertices",args:{padding:4,attrs:{strokeWidth:.1,stroke:"#2d8cf0",fill:"#ffffff"}}}]))})),t.removed.forEach((function(e){e.isEdge()&&e.attr("line/strokeDasharray",0),e.removeTools()}))}))},methods:{startDrag:function(e,t){m(this.graph,e,t)},deleteNode:function(){var e=this.graph.getSelectedCells();console.log(e),this.graph.removeCells(e)},saveToPNG:function(){var e=this;this.$nextTick((function(){e.graph.toPNG((function(e){u["b"].downloadDataUri(e,"资产拓扑图.png")}),{backgroundColor:"white",padding:{top:50,right:50,bottom:50,left:50},quality:1,copyStyles:!1})}))},changeEdgeType:function(e){"normal"===e?(this.connectEdgeType={connector:"normal",router:{name:""}},this.currentArrow=1):"smooth"===e?(this.connectEdgeType={connector:"smooth",router:{name:""}},this.currentArrow=2):(this.connectEdgeType={connector:"normal",router:{name:"manhattan"}},this.currentArrow=3)}}},_=T,S=(r("4585"),Object(l["a"])(_,g,p,!1,null,"cd51d9a8",null)),z=S.exports,G={name:"Home",components:{HelloWorld:z}},$=G,F=(r("70ef"),Object(l["a"])($,f,h,!1,null,"8590ba8c",null)),O=F.exports;o["default"].use(c["a"]);var D=[{path:"/",name:"Home",component:O}],j=new c["a"]({routes:D}),P=j,I=r("7736");o["default"].use(I["a"]);var M=new I["a"].Store({state:{},mutations:{},actions:{},modules:{}}),R=r("a68a"),A=r.n(R);r("eeee");o["default"].use(A.a),o["default"].config.productionTip=!1,new o["default"]({router:P,store:M,render:function(e){return e(d)}}).$mount("#app")},"70ef":function(e,t,r){"use strict";r("4a93")},e960:function(e,t,r){"use strict";r("4436")}});
//# sourceMappingURL=app.cf02dbd7.js.map